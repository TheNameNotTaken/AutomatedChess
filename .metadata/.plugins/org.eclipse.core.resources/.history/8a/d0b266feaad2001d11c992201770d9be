#include "main.h"

#define dirBig GPIO_PIN_4
#define dirBigPort GPIOC
#define stepBig GPIO_PIN_1
#define stepBigPort GPIOC
#define slpBig GPIO_PIN_3
#define slpBigPort GPIOC
#define rstBig GPIO_PIN_0
#define rstBigPort GPIOC
#define switchBig GPIO_PIN_5
#define switchBigPort GPIOC
#define turnBig GPIO_PIN_2
#define turnBigPort GPIOB

#define dirSmall GPIO_PIN_7
#define dirSmallPort GPIOD
#define stepSmall GPIO_PIN_6
#define stepSmallPort GPIOD
#define slpSmall GPIO_PIN_5
#define slpSmallPort GPIOD
#define rstSmall GPIO_PIN_4
#define rstSmallPort GPIOD
#define switchSmall GPIO_PIN_5
#define switchSmallPort GPIOD
#define turnSmall GPIO_PIN_2
#define turnSmallPort GPIOD

//Motor Variables
int currentBigCount = 0;
int currentSmallCount = 0;
char curLocation[] = "-1";

#define smallLength 2090
#define bigLength 2140

struct coordinate{
	int x;
	int y;
};

void motorSetup(){
	HAL_GPIO_WritePin(rstBigPort, rstBig, 1);
	HAL_GPIO_WritePin(slpBigPort, slpBig, 1);
	HAL_GPIO_WritePin(dirBigPort, dirBig, 0);

	HAL_GPIO_WritePin(rstSmallPort, rstSmall, 1);
	HAL_GPIO_WritePin(slpSmallPort, slpSmall, 1);
	HAL_GPIO_WritePin(dirSmallPort, dirSmall, 0);
}

struct coordinate convertToCoord(char* square){
	struct coordinate coord;
	coord.x = (2*(square[0] - 'A') + 1)*(bigLength/16.0);
	coord.y = (2*(atoi(square[1])-1) + 1)*(bigLength/16.0);
}



